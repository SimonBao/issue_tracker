{"version":3,"sources":["../server/issue.js"],"names":["validIssueStatus","New","Open","Assigned","Fixed","Verified","Closed","issueFieldType","status","owner","effort","created","completionDate","title","validateIssue","issue","field","type"],"mappings":";;;;;AAAA,IAAMA,mBAAmB;AACvBC,OAAK,IADkB;AAEvBC,QAAM,IAFiB;AAGvBC,YAAU,IAHa;AAIvBC,SAAO,IAJgB;AAKvBC,YAAU,IALa;AAMvBC,UAAQ;AANe,CAAzB;;AASA,IAAMC,iBAAiB;AACrBC,UAAQ,UADa;AAErBC,SAAO,UAFc;AAGrBC,UAAQ,UAHa;AAIrBC,WAAS,UAJY;AAKrBC,kBAAgB,UALK;AAMrBC,SAAO;AANc,CAAvB;;AASA;AACA;AACA;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,MAAIR,cAAJ,EAAoB;AAClB,SAAK,IAAMS,KAAX,IAAoBT,cAApB,EAAoC;AAClC,UAAMU,OAAOV,eAAeS,KAAf,CAAb;AACA,UAAI,CAACC,IAAL,EAAW;AACT;AACA,eAAOF,MAAMC,KAAN,CAAP;AACA;AACD,OAJD,MAIO,IAAIC,SAAS,UAAT,IAAuB,CAACF,MAAMC,KAAN,CAA5B,EAA0C;AAC/C;AACA,eAAUA,KAAV;AACA;AACD;AACF;AACF;;AAGD,MAAI,CAAChB,iBAAiBe,MAAMP,MAAvB,CAAL;AACE;AACA,WAAUO,MAAMP,MAAhB;AACF;;AAEA,SAAO,IAAP;AACA;AACD;;kBAEc;AACbM,iBAAeA;AADF,C","file":"issue.js","sourcesContent":["const validIssueStatus = {\n  New: true,\n  Open: true,\n  Assigned: true,\n  Fixed: true,\n  Verified: true,\n  Closed: true,\n};\n\nconst issueFieldType = {\n  status: 'required',\n  owner: 'required',\n  effort: 'optional',\n  created: 'required',\n  completionDate: 'optional',\n  title: 'required',\n};\n\n//server side validation\n//status check\n//field type check\n\nfunction validateIssue(issue) {\n  if (issueFieldType) {\n    for (const field in issueFieldType) {\n      const type = issueFieldType[field];\n      if (!type) {\n        //edge case - unknown field obtained\n        delete issue[field];\n        // remove edge case field\n      } else if (type === 'required' && !issue[field]) {\n        // executes when field is required and is undefined\n        return `${field} is required.`;\n        // returns missing field error\n      }\n    }\n  }\n\n\n  if (!validIssueStatus[issue.status])\n    //if the issue status is not one of the approve statuses \n    return `${issue.status} is not a valid status.`;\n  //return invalid status error\n\n  return null;\n  //return nothing is there are no errors\n}\n\nexport default {\n  validateIssue: validateIssue\n};"]}